import{d as f,r as i,o as m,c as o,e,t as a,F as v,f as p,s as g,a as r,x as k,_ as y}from"./index-DbvbEOKI.js";const D={class:"card"},U={class:"card-header"},b={class:"card-title"},w={key:0,class:"loading"},x={key:1},F=["onClick"],B=50,C=f({__name:"Users",setup(L){const s=i([]),d=i(!0),u=i(0);async function c(){d.value=!0;try{const t=await g({limit:B,offset:u.value});s.value=t.users}catch(t){console.error("Failed to load users",t)}d.value=!1}async function _(t){if(confirm(`Delete user "${t.username}"?

This will delete all their games, streaks, and data. This cannot be undone.`))try{await k(t.id),s.value=s.value.filter(n=>n.id!==t.id)}catch(n){alert("Failed to delete user: "+n.message)}}function h(t){return t?new Date(t).toLocaleDateString():"-"}return m(c),(t,n)=>(r(),o("div",D,[e("div",U,[e("h3",b,"Users ("+a(s.value.length)+")",1)]),d.value?(r(),o("div",w,[...n[0]||(n[0]=[e("div",{class:"spinner"},null,-1)])])):(r(),o("table",x,[n[1]||(n[1]=e("thead",null,[e("tr",null,[e("th",null,"ID"),e("th",null,"Username"),e("th",null,"Email"),e("th",null,"Games"),e("th",null,"Wins"),e("th",null,"Streak"),e("th",null,"Joined"),e("th",null,"Action")])],-1)),e("tbody",null,[(r(!0),o(v,null,p(s.value,l=>(r(),o("tr",{key:l.id},[e("td",null,a(l.id),1),e("td",null,a(l.username),1),e("td",null,a(l.email||"-"),1),e("td",null,a(l.total_games),1),e("td",null,a(l.total_wins),1),e("td",null,a(l.current_streak),1),e("td",null,a(h(l.created_at)),1),e("td",null,[e("button",{class:"btn-delete",onClick:E=>_(l)},"Delete",8,F)])]))),128))])]))]))}}),S=y(C,[["__scopeId","data-v-2690be00"]]);export{S as default};
